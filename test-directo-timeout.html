<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Test Directo - Brain Storm</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        .test-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .platform-link {
            display: block;
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            text-decoration: none;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .platform-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        .firebase-link {
            background: linear-gradient(45deg, #ff9800, #f44336);
        }
        .github-link {
            background: linear-gradient(45deg, #2196f3, #9c27b0);
        }
        .instructions {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #4ecdc4;
        }
        .step {
            margin: 15px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        .warning {
            background: rgba(255, 193, 7, 0.2);
            border-left: 5px solid #ffc107;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .success {
            background: rgba(76, 175, 80, 0.2);
            border-left: 5px solid #4caf50;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .error {
            background: rgba(244, 67, 54, 0.2);
            border-left: 5px solid #f44336;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .timer {
            text-align: center;
            font-size: 1.3em;
            color: #feca57;
            font-weight: bold;
            margin: 20px 0;
        }
        code {
            background: rgba(0, 0, 0, 0.3);
            padding: 3px 8px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Test Directo - Timeout Fix</h1>
        
        <div class="warning">
            <h3>‚ö†Ô∏è Error en Test Local</h3>
            <p>El test local fall√≥ por problemas de autenticaci√≥n Firebase. Vamos a probar directamente en las plataformas en vivo.</p>
        </div>
        
        <div class="test-section">
            <h3>üéØ Acceso Directo a las Plataformas</h3>
            <p>Haz clic en los enlaces para probar directamente:</p>
            
            <a href="https://brain-storm-8f0d8.web.app/" class="platform-link firebase-link" target="_blank">
                üî• Firebase Hosting (RECOMENDADO)
            </a>
            
            <a href="https://gefigueraw.github.io/lluvia-de-ideas/" class="platform-link github-link" target="_blank">
                üì± GitHub Pages (Alternativo)
            </a>
        </div>
        
        <div class="test-section">
            <h3>üìã Protocolo de Prueba</h3>
            
            <div class="instructions">
                <h4>üîç Par√°metros de Prueba Espec√≠ficos:</h4>
                
                <div class="step">
                    <strong>1. üéØ Keyword:</strong><br>
                    <code>productividad con inteligencia artificial</code>
                </div>
                
                <div class="step">
                    <strong>2. üì± Plataformas:</strong><br>
                    Selecciona m√°ximo <strong>2 plataformas</strong>:<br>
                    ‚Ä¢ Facebook ‚úÖ<br>
                    ‚Ä¢ LinkedIn ‚úÖ<br>
                    (M√°ximo 2 para optimizar tiempo)
                </div>
                
                <div class="step">
                    <strong>3. üìù Tipo de Copy:</strong><br>
                    <code>Informativo y educativo</code>
                </div>
                
                <div class="step">
                    <strong>4. ‚è±Ô∏è Timer:</strong><br>
                    Inicia el cron√≥metro cuando hagas clic en "Generar Copywriting"
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <h3>‚úÖ Qu√© Verificar en el Resultado</h3>
            
            <div class="success">
                <h4>üéâ √âXITO (lo que queremos ver):</h4>
                <ul>
                    <li>‚è±Ô∏è <strong>Tiempo total:</strong> Menos de 60 segundos</li>
                    <li>üß† <strong>Contenido:</strong> SIN texto "‚ö†Ô∏è GENERADO CON TEMPLATES"</li>
                    <li>‚ú® <strong>Calidad:</strong> Contenido √∫nico y espec√≠fico para cada plataforma</li>
                    <li>üöÄ <strong>Sin errores:</strong> No aparece "deadline-exceeded"</li>
                </ul>
            </div>
            
            <div class="error">
                <h4>‚ùå PROBLEMA (lo que NO queremos ver):</h4>
                <ul>
                    <li>‚è∞ <strong>Timeout:</strong> Error "deadline-exceeded"</li>
                    <li>üìã <strong>Templates:</strong> Texto "‚ö†Ô∏è GENERADO CON TEMPLATES"</li>
                    <li>üêå <strong>Lentitud:</strong> M√°s de 60 segundos</li>
                    <li>üí• <strong>Errores:</strong> Mensajes de error en consola</li>
                </ul>
            </div>
        </div>
        
        <div class="test-section">
            <h3>üìä Reporte de Resultados</h3>
            
            <div class="instructions">
                <h4>üîç Despu√©s de la prueba, reporta:</h4>
                
                <div class="step">
                    <strong>1. ‚è±Ô∏è Tiempo Total:</strong><br>
                    "La generaci√≥n tard√≥ X segundos"
                </div>
                
                <div class="step">
                    <strong>2. üß† Tipo de Contenido:</strong><br>
                    ‚Ä¢ "‚úÖ Contenido generado con IA" (sin templates)<br>
                    ‚Ä¢ "‚ùå Apareci√≥ texto de templates" (con detalles)
                </div>
                
                <div class="step">
                    <strong>3. üí• Errores:</strong><br>
                    ‚Ä¢ "‚úÖ Sin errores"<br>
                    ‚Ä¢ "‚ùå Error: [descripci√≥n del error]"
                </div>
                
                <div class="step">
                    <strong>4. üì± Plataforma Usada:</strong><br>
                    ‚Ä¢ Firebase Hosting o GitHub Pages
                </div>
            </div>
        </div>
        
        <div class="timer" id="timer">
            ‚è±Ô∏è Cron√≥metro listo - Inicia la prueba
        </div>
        
        <div class="warning">
            <h4>üí° Consejo:</h4>
            <p>Usa <strong>Firebase Hosting</strong> (primer enlace) ya que se conecta directamente con las Cloud Functions optimizadas que acabamos de desplegar.</p>
        </div>
    </div>

    <script>
        let startTime = null;
        let timerInterval = null;
        
        function startTimer() {
            startTime = Date.now();
            timerInterval = setInterval(updateTimer, 1000);
            document.getElementById('timer').textContent = '‚è±Ô∏è Cron√≥metro iniciado: 0s';
        }
        
        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                const totalTime = Math.floor((Date.now() - startTime) / 1000);
                document.getElementById('timer').textContent = `‚èπÔ∏è Tiempo final: ${totalTime} segundos`;
                return totalTime;
            }
            return 0;
        }
        
        function updateTimer() {
            if (startTime) {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                document.getElementById('timer').textContent = `‚è±Ô∏è Tiempo transcurrido: ${elapsed}s`;
            }
        }
        
        // Instrucciones en consola
        console.log('üöÄ INSTRUCCIONES DE PRUEBA:');
        console.log('1. Haz clic en Firebase Hosting');
        console.log('2. Usa: "productividad con inteligencia artificial"');
        console.log('3. Selecciona: Facebook + LinkedIn');
        console.log('4. Tipo: Informativo y educativo');
        console.log('5. Inicia timer antes de generar');
        console.log('6. Reporta resultados');
    </script>
</body>
</html>
