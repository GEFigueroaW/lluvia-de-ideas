<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Completo - Carrusel Integrado</title>
    
    <!-- CSS del carrusel -->
    <link rel="stylesheet" href="css/simple-social-carousel.css">
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 28px;
            font-weight: 700;
        }
        
        .header p {
            margin: 0;
            opacity: 0.9;
            font-size: 16px;
        }
        
        .content {
            padding: 40px;
        }
        
        .form-section {
            margin-bottom: 30px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            color: #333;
            font-size: 16px;
        }
        
        .result-area {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }
        
        .result-area h3 {
            margin: 0 0 15px 0;
            color: #333;
        }
        
        .selected-network {
            font-weight: bold;
            color: #667eea;
        }
        
        .debug-info {
            margin-top: 20px;
            padding: 15px;
            background: #e9ecef;
            border-radius: 8px;
            font-family: monospace;
            font-size: 12px;
            color: #666;
            white-space: pre-wrap;
        }
        
        .status {
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="header">
            <h1>üéØ Test Completo del Carrusel</h1>
            <p>Prueba integral del sistema de selecci√≥n de redes sociales</p>
        </div>
        
        <div class="content">
            <div id="statusArea"></div>
            
            <div class="form-section">
                <label class="form-label">
                    üì± Selecciona tu red social preferida:
                </label>
                
                <!-- Aqu√≠ va el carrusel - EXACTAMENTE como en index.html -->
                <div class="social-network-selector" id="socialCarouselContainer">
                    <!-- El carrusel se generar√° aqu√≠ din√°micamente -->
                </div>
            </div>
            
            <div class="result-area">
                <h3>üìä Estado del Carrusel:</h3>
                <p><strong>Red social seleccionada:</strong> <span id="selectedNetwork" class="selected-network">Cargando...</span></p>
                <p><strong>JavaScript cargado:</strong> <span id="jsStatus">Verificando...</span></p>
                <p><strong>SVG encontrados:</strong> <span id="svgCount">Contando...</span></p>
                <p><strong>Eventos registrados:</strong> <span id="eventsStatus">Verificando...</span></p>
            </div>
            
            <div class="debug-info" id="debugInfo">
                Iniciando verificaci√≥n del carrusel...
            </div>
        </div>
    </div>

    <!-- Script del carrusel - EXACTAMENTE como en index.html -->
    <script src="js/simple-social-carousel.js"></script>
    
    <!-- Script de prueba -->
    <script>
        let debugLog = '';
        
        function addDebug(message) {
            debugLog += new Date().toLocaleTimeString() + ': ' + message + '\n';
            document.getElementById('debugInfo').textContent = debugLog;
        }
        
        function updateStatus(type, message) {
            const statusArea = document.getElementById('statusArea');
            statusArea.innerHTML = `<div class="status ${type}">${message}</div>`;
        }
        
        // Verificaci√≥n al cargar
        document.addEventListener('DOMContentLoaded', function() {
            addDebug('DOM cargado - iniciando verificaciones...');
            
            // Verificar container
            const container = document.querySelector('.social-network-selector');
            if (container) {
                addDebug('‚úÖ Contenedor .social-network-selector encontrado');
                addDebug('ID del contenedor: ' + (container.id || 'sin ID'));
            } else {
                addDebug('‚ùå Contenedor .social-network-selector NO encontrado');
                updateStatus('error', '‚ùå Error: No se encontr√≥ el contenedor del carrusel');
                return;
            }
            
            // Verificar si se carg√≥ SimpleSocialCarousel
            if (typeof SimpleSocialCarousel !== 'undefined') {
                addDebug('‚úÖ Clase SimpleSocialCarousel disponible');
                document.getElementById('jsStatus').textContent = '‚úÖ Cargado correctamente';
            } else {
                addDebug('‚ùå Clase SimpleSocialCarousel NO disponible');
                document.getElementById('jsStatus').textContent = '‚ùå Error de carga';
                updateStatus('error', '‚ùå Error: JavaScript del carrusel no se carg√≥');
                return;
            }
            
            // Esperar a que se inicialice
            setTimeout(() => {
                // Verificar si se inicializ√≥ window.socialCarousel
                if (window.socialCarousel) {
                    addDebug('‚úÖ Instancia window.socialCarousel disponible');
                    document.getElementById('eventsStatus').textContent = '‚úÖ Eventos activos';
                    
                    // Obtener red seleccionada
                    const selected = window.socialCarousel.getSelectedNetwork();
                    document.getElementById('selectedNetwork').textContent = selected.name;
                    addDebug('Red seleccionada inicialmente: ' + selected.name);
                    
                    updateStatus('success', '‚úÖ Carrusel inicializado correctamente');
                } else {
                    addDebug('‚ùå Instancia window.socialCarousel NO disponible');
                    document.getElementById('eventsStatus').textContent = '‚ùå Sin eventos';
                    updateStatus('error', '‚ùå Error: Carrusel no se inicializ√≥');
                }
                
                // Contar SVGs
                const svgs = document.querySelectorAll('.simple-social-carousel svg');
                document.getElementById('svgCount').textContent = svgs.length + ' iconos SVG';
                addDebug('SVGs encontrados: ' + svgs.length);
                
                if (svgs.length > 0) {
                    addDebug('‚úÖ Los iconos SVG se cargaron correctamente');
                } else {
                    addDebug('‚ùå No se encontraron iconos SVG');
                }
            }, 1000);
            
            // Escuchar cambios
            container.addEventListener('socialNetworkChanged', function(e) {
                addDebug('üîÑ Cambio detectado: ' + e.detail.network);
                document.getElementById('selectedNetwork').textContent = e.detail.network;
            });
        });
        
        // Funci√≥n de prueba manual
        function testCarousel() {
            if (window.socialCarousel) {
                addDebug('üß™ Ejecutando prueba manual...');
                
                // Probar selecci√≥n manual
                window.socialCarousel.selectNetwork(2); // LinkedIn
                addDebug('Selecci√≥n manual: LinkedIn (√≠ndice 2)');
                
                setTimeout(() => {
                    window.socialCarousel.next(); // Siguiente
                    addDebug('Navegaci√≥n: siguiente');
                }, 1000);
                
                setTimeout(() => {
                    window.socialCarousel.prev(); // Anterior
                    addDebug('Navegaci√≥n: anterior');
                }, 2000);
            } else {
                addDebug('‚ùå No se puede probar: carrusel no disponible');
            }
        }
        
        // Auto-prueba despu√©s de 3 segundos
        setTimeout(testCarousel, 3000);
    </script>
</body>
</html>
